<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JobPortal - Freelancing</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<style>
  body {background:#f4f6fb; color:#052c47; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin:0;}
  .navbar {display:flex; justify-content:space-between; align-items:center; background:#052c47; padding:15px 50px; position:sticky; top:0; z-index:1000;}
  .navbar .logo {color:#fff; font-size:2rem; font-weight:700;}
  .nav-links {list-style:none; display:flex; gap:25px;}
  .nav-links li a {color:#fff; text-decoration:none; font-weight:500; transition:0.3s;}
  .nav-links li a:hover, .nav-links li a.active {color:#00d1ff;}

  .page-title {text-align:center; padding:40px 20px; font-size:2rem;}
  .search-bar {display:flex; justify-content:center; gap:10px; flex-wrap:wrap; margin-bottom:40px;}
  .search-bar input, .search-bar button {padding:10px 15px; border-radius:25px; border:none; outline:none; font-size:0.9rem;}
  .search-bar button:first-of-type {background:#00d1ff; color:#052c47;}
  .search-bar button:first-of-type:hover {background:#00b8e6; color:#fff;}
  .search-bar button:last-of-type {background:#ff6b6b; color:#fff;}
  .search-bar button:last-of-type:hover {background:#ff4c4c;}

  .job-cards {display:flex; justify-content:center; flex-wrap:wrap; gap:25px; padding:0 20px 50px;}
  .job-card {background:#fff; padding:20px; width:300px; border-radius:15px; box-shadow:0 6px 15px rgba(0,0,0,0.1); text-align:center; position:relative; transition:0.3s;}
  .job-card:hover {transform:translateY(-5px);}
  .job-card img {width:100px; height:60px; object-fit:contain; margin-bottom:10px; background:transparent; padding:0;}
  .job-card h4 {font-size:1.2rem; margin-bottom:5px;}
  .job-card p {font-size:0.9rem; margin-bottom:10px;}
  .job-card .btn {text-decoration:none; background:#00d1ff; color:#052c47; padding:6px 15px; border-radius:20px; font-weight:600; transition:0.3s; cursor:pointer;}
  .job-card .btn:hover {background:#00b8e6; color:#fff;}

  .modal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:1000;}
  .modal-content {background:#fff; padding:30px; border-radius:20px; width:90%; max-width:500px; position:relative;}
  .close-modal {position:absolute; top:15px; right:20px; font-size:1.5rem; cursor:pointer;}
  .apply-form input {display:block; width:100%; margin-bottom:10px; padding:10px; border-radius:20px; border:1px solid #ccc; outline:none;}
  .apply-form button {padding:10px 20px; border:none; border-radius:25px; background:#00d1ff; color:#052c47; font-weight:600; cursor:pointer; margin-top:5px;}
  .apply-form button:hover {background:#00b8e6; color:#fff;}

  /* Dropdown styles */
.dropdown { position: relative; }
.dropdown-menu {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background: #052c47;
  list-style: none;
  padding: 10px 0;
  min-width: 150px;
  border-radius: 10px;
  flex-direction: column;
  z-index: 100;
}
.dropdown-menu li { width: 100%; }
.dropdown-menu li a {
  color: #fff;
  display: block;
  padding: 10px 20px;
  text-decoration: none;
  font-weight: 500;
  transition: 0.3s;
}
.dropdown-menu li a:hover { background: #00d1ff; color: #052c47; }

footer {background:#052c47; color:#fff; padding:25px 20px; text-align:center; margin-top:50px;}
footer p {margin:5px 0;}

@media(max-width:1024px){.navbar {padding:15px 30px;} .job-cards {justify-content:center;}}
@media(max-width:768px){.job-card {width:90%;}}
</style>
</head>
<body data-page-type="Freelance">

<!-- Navbar -->
<nav class="navbar">
  <div class="logo">JobPortal</div>
  <ul class="nav-links">
    <li><a href="index.html">Home</a></li>
    <li class="dropdown">
      <a href="javascript:void(0)" id="category-link">Category ▾</a>
      <ul class="dropdown-menu" id="dropdown-menu">
        <li><a href="jobs.html">Jobs</a></li>
        <li><a href="internships.html">Internships</a></li>
        <li><a href="freelancing.html">Freelancing</a></li>
      </ul>
    </li>
    <li id="auth-link"><a href="access.html">Login / Sign Up</a></li>
    <li><a href="admin.html">Admin</a></li>
  </ul>
</nav>

<h2 class="page-title">Available Freelance Opportunities</h2>

<!-- Search Bar -->
<div class="search-bar">
  <input type="text" id="keyword" placeholder="Keyword">
  <input type="text" id="location" placeholder="Location">
  <button onclick="searchJobs()">Search</button>
  <button onclick="clearSearch()">Clear</button>
</div>

<!-- Freelance Cards -->
<div class="job-cards" id="job-cards"></div>

<!-- Modal -->
<div class="modal" id="job-modal">
  <div class="modal-content">
    <span class="close-modal" onclick="closeModal()">&times;</span>
    <h3 id="modal-title"></h3>
    <p><strong>Company:</strong> <span id="modal-company"></span></p>
    <p><strong>Location:</strong> <span id="modal-location"></span></p>
    <p><strong>Role / Type:</strong> <span id="modal-type"></span></p>
    <p><strong>Description:</strong><br><span id="modal-desc"></span></p>
    <p><strong>Skills Required:</strong><br><span id="modal-skills"></span></p>
    <div id="apply-section" style="margin-top:20px;">
      <button onclick="showApplyForm()" id="apply-btn">Apply</button>
      <form class="apply-form" id="apply-form" style="display:none;" onsubmit="submitApplication(event)">
        <input type="text" id="app-name" placeholder="Your Name" required>
        <input type="email" id="app-email" placeholder="Your Email" required>
        <button type="submit">Submit Application</button>
      </form>
    </div>
  </div>
</div>
<script>
// AOS init
AOS.init();

// Navbar dropdown
const dropdownLink = document.getElementById('category-link');
const dropdownMenu = document.getElementById('dropdown-menu');
dropdownLink.addEventListener('click', e => { 
    e.stopPropagation(); 
    dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block'; 
});
document.addEventListener('click', () => { dropdownMenu.style.display='none'; });

// Highlight current page
document.querySelectorAll('.nav-links li a').forEach(link => {
  if(window.location.pathname.endsWith(link.getAttribute('href'))) link.classList.add('active');
});

// Login / Logout
const authLink = document.getElementById('auth-link').querySelector('a');
const currentUser = JSON.parse(localStorage.getItem('currentUser'));
if(currentUser){
  authLink.textContent = 'Logout';
  authLink.href = '#';
  authLink.onclick = () => { 
      localStorage.removeItem('currentUser'); 
      window.location.href='access.html'; 
  };
} else {
  authLink.textContent='Login / Sign Up';
  authLink.href='access.html';
}

// SAMPLE Freelance jobs (default)
const sampleFreelancing = [
  {title:"Web Designer", company:"Upwork", location:"Remote", type:"Freelance", desc:"Create websites for clients worldwide.", skills:"HTML, CSS, JS", logo:"https://e7.pngegg.com/pngimages/744/960/png-clipart-upwork-computer-icons-freelancer-others-miscellaneous-text-thumbnail.png"},
  {title:"Content Writer", company:"Fiverr", location:"Remote", type:"Freelance", desc:"Write articles, blogs, and copywriting.", skills:"Writing, SEO", logo:"https://logos-world.net/wp-content/uploads/2020/12/Fiverr-Symbol.png"},
  {title:"Mobile App Developer", company:"Freelancer.com", location:"Remote", type:"Freelance", desc:"Build Android & iOS applications.", skills:"Java, Swift, Kotlin", logo:"https://brandlogos.net/wp-content/uploads/2017/01/freelancer-logo.png"},
  {title:"Graphic Designer", company:"99designs", location:"Remote", type:"Freelance", desc:"Design logos, brochures, and banners.", skills:"Photoshop, Illustrator", logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQi1jAkA-HSFWbza1Mjp1sy_JEd7jkaEhKtIQ&s"},
  {title:"SEO Specialist", company:"PeoplePerHour", location:"Remote", type:"Freelance", desc:"Optimize websites for search engines.", skills:"SEO, Analytics", logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQw182wb_1kQoOZuyRjoYRpjOfVGd0ktfbmDA&s"}
];

// LOAD jobs from localStorage
let allJobs = JSON.parse(localStorage.getItem('jobs') || '[]');

// Add sample jobs if not already in localStorage
sampleFreelancing.forEach(job=>{
  const exists = allJobs.some(j=> j.title === job.title && j.company === job.company);
  if(!exists) allJobs.push(job);
});

// Save updated jobs to localStorage
localStorage.setItem('jobs', JSON.stringify(allJobs));

// Filter only Freelance jobs
let freelancingJobs = allJobs.filter(job => job.type && job.type.toLowerCase() === 'freelance');

// Render freelance jobs
function renderFreelancing(list){
  const container = document.getElementById('job-cards');
  container.innerHTML = '';
  if(list.length === 0){ 
    container.innerHTML = "<p style='text-align:center;'>No freelancing projects found!</p>"; 
    return; 
  }
  list.forEach(job=>{
    const div=document.createElement('div');
    div.className='job-card';
    div.dataset.title=job.title;
    div.dataset.company=job.company;
    div.dataset.location=job.location;
    div.dataset.type=job.type;
    div.dataset.desc=job.desc;
    div.dataset.skills=job.skills;
    div.innerHTML=`<img src="${job.logo}" alt="${job.company}">
      <h4>${job.title}</h4>
      <p>${job.company} • ${job.location} • ${job.type}</p>
      <button class="btn" onclick="openModalCard(this)">See Details</button>`;
    container.appendChild(div);
  });
}

// Initial render
renderFreelancing(freelancingJobs);

// Search / Clear
function searchJobs(){
  const kw=document.getElementById('keyword').value.toLowerCase();
  const loc=document.getElementById('location').value.toLowerCase();
  const filtered=freelancingJobs.filter(j=>
    (kw==='' || j.title.toLowerCase().includes(kw)) &&
    (loc==='' || j.location.toLowerCase().includes(loc))
  );
  renderFreelancing(filtered);
}
function clearSearch(){ 
  document.getElementById('keyword').value=''; 
  document.getElementById('location').value=''; 
  renderFreelancing(freelancingJobs); 
}

// Modal functions
function openModalCard(btn){
  const card=btn.parentElement;
  document.getElementById('modal-title').innerText=card.dataset.title;
  document.getElementById('modal-company').innerText=card.dataset.company;
  document.getElementById('modal-location').innerText=card.dataset.location;
  document.getElementById('modal-type').innerText=card.dataset.type;
  document.getElementById('modal-desc').innerText=card.dataset.desc;
  document.getElementById('modal-skills').innerText=card.dataset.skills;
  document.getElementById('job-modal').style.display='flex';
  document.getElementById('apply-form').style.display='none';
  document.getElementById('apply-btn').style.display='block';
}
function closeModal(){ document.getElementById('job-modal').style.display='none'; }
function showApplyForm(){ 
  document.getElementById('apply-form').style.display='block'; 
  document.getElementById('apply-btn').style.display='none'; 
}
function submitApplication(e){
  e.preventDefault();
  const name=document.getElementById('app-name').value;
  const email=document.getElementById('app-email').value;
  const jobTitle=document.getElementById('modal-title').innerText;
  const applications=JSON.parse(localStorage.getItem('applications')||'[]');
  applications.push({jobTitle,name,email,appliedAt:new Date().toISOString()});
  localStorage.setItem('applications',JSON.stringify(applications));
  alert(`Applied Successfully!\nName: ${name}\nEmail: ${email}\nProject: ${jobTitle}`);
  closeModal();
  document.getElementById('app-name').value='';
  document.getElementById('app-email').value='';
}
</script>
<footer>
  <p>&copy; 2025 JobPortal. All rights reserved.</p>
</footer>
</body>
</html>

